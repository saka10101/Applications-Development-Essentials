(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(67);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},,,,,function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(63);t.a=function(e){return r.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},r.a.createElement("div",{className:"lds-dual-ring"}))}},function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(4);a(55);t.a=function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(l.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),r=Object(n.createContext)({isLoggedIn:!1,userId:null,token:null,username:null,pimg:null,nsum:null,login:function(){},logout:function(){}})},function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(30),c=a(14);t.a=function(e){return r.a.createElement(l.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:r.a.createElement(c.a,{onClick:e.onClear},"Okay")},r.a.createElement("p",null,e.error))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(6),r=a.n(n),l=a(16),c=a(1),u=a(0),i=function(){var e=Object(u.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(u.useState)(),o=Object(c.a)(i,2),s=o[0],m=o[1],d=Object(u.useRef)([]),E=Object(u.useCallback)(function(){var e=Object(l.a)(r.a.mark((function e(t){var a,l,c,u,i,o,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"GET",l=s.length>2&&void 0!==s[2]?s[2]:null,c=s.length>3&&void 0!==s[3]?s[3]:{},n(!0),u=new AbortController,d.current.push(u),e.prev=6,e.next=9,fetch(t,{method:a,body:l,headers:c,signal:u.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(o=e.sent,d.current=d.current.filter((function(e){return e!==u})),i.ok){e.next=16;break}throw new Error(o.message);case 16:return n(!1),e.abrupt("return",o);case 20:throw e.prev=20,e.t0=e.catch(6),m(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(u.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:s,sendRequest:E,clearError:function(){m(null)}}}},,function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return u}));var n=a(44),r=function(){return{type:"REQUIRE"}},l=function(e){return{type:"MINLENGTH",val:e}},c=function(){return{type:"EMAIL"}},u=function(e,t){var a,r=!0,l=Object(n.a)(t);try{for(l.s();!(a=l.n()).done;){var c=a.value;"REQUIRE"===c.type&&(r=r&&e.trim().length>0),"MINLENGTH"===c.type&&(r=r&&e.trim().length>=c.val),"MAXLENGTH"===c.type&&(r=r&&e.trim().length<=c.val),"MIN"===c.type&&(r=r&&+e>=c.val),"MAX"===c.type&&(r=r&&+e<=c.val),"EMAIL"===c.type&&(r=r&&/^\S+@\S+\.\S+$/.test(e))}}catch(u){l.e(u)}finally{l.f()}return r}},function(e,t,a){"use strict";var n=a(1),r=a(7),l=a(0),c=a.n(l),u=a(21),i=(a(54),function(e,t){switch(t.type){case"CHANGE":return Object(r.a)(Object(r.a)({},e),{},{value:t.val,isValid:Object(u.d)(t.val,t.validators)});case"TOUCH":return Object(r.a)(Object(r.a)({},e),{},{isTouched:!0});default:return e}});t.a=function(e){var t=Object(l.useReducer)(i,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(n.a)(t,2),r=a[0],u=a[1],o=e.id,s=e.onInput,m=r.value,d=r.isValid;Object(l.useEffect)((function(){s(o,m,d)}),[o,m,d,s]);var E=function(t){u({type:"CHANGE",val:t.target.value,validators:e.validators})},p=function(){u({type:"TOUCH"})},f="input"===e.element?c.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:E,onBlur:p,value:r.value}):c.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:E,onBlur:p,value:r.value});return c.a.createElement("div",{className:"form-control ".concat(!r.isValid&&r.isTouched&&"form-control--invalid")},c.a.createElement("label",{htmlFor:e.id},e.label),f,!r.isValid&&r.isTouched&&c.a.createElement("p",null,e.errorText))}},,function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(11),c=a.n(l);a(61);t.a=function(e){return c.a.createPortal(r.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},,,,,,function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(11),c=a.n(l),u=a(96),i=a(24),o=(a(62),function(e){var t=r.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h2",null,e.header)),r.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return c.a.createPortal(t,document.getElementById("modal-hook"))});t.a=function(e){return r.a.createElement(r.a.Fragment,null,e.show&&r.a.createElement(i.a,{onClick:e.onCancel}),r.a.createElement(u.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},r.a.createElement(o,e)))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1),r=a(23),l=a(7),c=a(0),u=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(l.a)(Object(l.a)({},e),{},{inputs:Object(l.a)(Object(l.a)({},e.inputs),{},Object(r.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},i=function(e,t){var a=Object(c.useReducer)(u,{inputs:e,isValid:t}),r=Object(n.a)(a,2),l=r[0],i=r[1];return[l,Object(c.useCallback)((function(e,t,a){i({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(c.useCallback)((function(e,t){i({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},,,function(e,t,a){"use strict";var n=a(1),r=a(0),l=a.n(r),c=a(14);a(72);t.a=function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),u=a[0],i=a[1],o=Object(r.useState)(),s=Object(n.a)(o,2),m=s[0],d=s[1],E=Object(r.useState)(!1),p=Object(n.a)(E,2),f=p[0],g=p[1],b=Object(r.useRef)();Object(r.useEffect)((function(){if(u){var e=new FileReader;e.onload=function(){d(e.result)},e.readAsDataURL(u)}}),[u]);return l.a.createElement("div",{className:"form-control"},l.a.createElement("input",{id:e.id,ref:b,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,n=f;t.target.files&&1===t.target.files.length?(a=t.target.files[0],i(a),g(!0),n=!0):(g(!1),n=!1),e.onInput(e.id,a,n)}}),l.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},l.a.createElement("div",{className:"image-upload__preview"},m&&l.a.createElement("img",{src:m,alt:"Preview"}),!m&&l.a.createElement("p",null,"Please pick an image.")),l.a.createElement(c.a,{type:"button",onClick:function(){b.current.click()}},"PICK IMAGE")),!f&&l.a.createElement("p",null,e.errorText))}},function(e,t,a){},,,,,,,,,,,,,function(e,t,a){e.exports=a(95)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r,l,c,u=a(0),i=a.n(u),o=a(11),s=a.n(o),m=(a(53),a(2)),d=a(4),E=a(22),p=a(14),f=a(18),g=a(13),b=(a(64),function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{src:"https://book-min.herokuapp.com/uploads/images/Default3.png",alt:"WELCOME",class:"center"}))}),v=a(6),h=a.n(v),O=a(16),N=a(1),y=(a(66),function(e){return i.a.createElement("div",{className:"avatar ".concat(e.className),style:e.style},i.a.createElement("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}}))}),j=a(8),k=(a(68),function(e){return i.a.createElement("li",{className:"user-item"},i.a.createElement(j.a,{className:"user-item__content"},i.a.createElement(d.b,{to:"/".concat(e.id,"/summary")},i.a.createElement("div",{className:"user-item__image"}),i.a.createElement("div",{className:"user-item__info"},i.a.createElement("h2",null,e.name),i.a.createElement("h5",null,i.a.createElement("b",null,e.book))))))}),I=(a(69),function(e){return 0===e.items.length?i.a.createElement("div",{className:"center"},i.a.createElement(j.a,null,i.a.createElement("h2",null,"No summaary found found."))):i.a.createElement("ul",{className:"users-list"},e.items.map((function(e){return i.a.createElement(k,{key:e.id,id:e.id,image:e.summary_cover,name:e.summary_title,book:e.book_description,placeCount:e.length})})))}),C=a(19),w=function(){var e=Object(C.a)(),t=e.isLoading,a=e.error,n=e.sendRequest,r=e.clearError,l=Object(u.useState)(),c=Object(N.a)(l,2),o=c[0],s=c[1];return Object(u.useEffect)((function(){(function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("https://book-min.herokuapp.com/api/summary");case 3:t=e.sent,s(t.summaries),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{error:a,onClear:r}),t&&i.a.createElement("div",{className:"center"},i.a.createElement(g.a,null)),!t&&o&&i.a.createElement(I,{items:o}))},S=(a(70),function(e){return i.a.createElement("li",{className:"user-item"},i.a.createElement(j.a,{className:"user-item__content"},i.a.createElement(d.b,{to:"/".concat(e.id,"/summaries")},i.a.createElement("div",{className:"user-item__image"},i.a.createElement(y,{image:"".concat("https://book-min.herokuapp.com/").concat(e.image),alt:" "})),i.a.createElement("div",{className:"user-item__info"},i.a.createElement("h2",null,e.name),i.a.createElement("h3",null,"undefined"==e.placeCount?"0":e.placeCount," ",1===e.placeCount?"Summary":"Summaries")))))}),x=(a(71),function(e){return 0===e.items.length?i.a.createElement("div",{className:"center"},i.a.createElement(j.a,null,i.a.createElement("h2",null,"No users found."))):i.a.createElement("ul",{className:"users-list"},e.items.map((function(e){return i.a.createElement(S,{key:e.id,id:e.id,image:e.image,name:e.name,placeCount:e.summary.length})})))}),_=function(){var e=Object(C.a)(),t=e.isLoading,a=e.error,n=e.sendRequest,r=e.clearError,l=Object(u.useState)(),c=Object(N.a)(l,2),o=c[0],s=c[1];return Object(u.useEffect)((function(){(function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("https://book-min.herokuapp.com/api/users");case 3:t=e.sent,s(t.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{error:a,onClear:r}),t&&i.a.createElement("div",{className:"center"},i.a.createElement(g.a,null)),!t&&o&&i.a.createElement(x,{items:o}))},T=a(7),L=a(34),R=a(21),G=a(31),V=a(17),A=(a(35),function(){var e=Object(u.useContext)(V.a),t=Object(u.useState)(!0),a=Object(N.a)(t,2),n=a[0],r=a[1],l=Object(C.a)(),c=l.isLoading,o=l.error,s=l.sendRequest,m=l.clearError,d=Object(G.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),b=Object(N.a)(d,3),v=b[0],y=b[1],k=b[2],I=function(){var t=Object(O.a)(h.a.mark((function t(a){var r,l,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!n){t.next=15;break}return t.prev=2,t.next=5,s("https://book-min.herokuapp.com/api/users/login","POST",JSON.stringify({email:v.inputs.email.value,password:v.inputs.password.value}),{"Content-Type":"application/json"});case 5:r=t.sent,console.log("INSIDE LOGIN INSIDE LOGIN"),console.log(r),e.login(r.userId,r.token,r.name,r.image,r.nsum),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(2);case 13:t.next=32;break;case 15:return t.prev=15,(l=new FormData).append("email",v.inputs.email.value),l.append("name",v.inputs.name.value),l.append("password",v.inputs.password.value),l.append("image",v.inputs.image.value),t.next=23,s("https://book-min.herokuapp.com/api/users/signup","POST",l);case 23:c=t.sent,console.log("-------------------------"),console.log(c.name),e.username=c.name,e.login(c.userId,c.token,c.name,c.image),t.next=32;break;case 30:t.prev=30,t.t1=t.catch(15);case 32:case"end":return t.stop()}}),t,null,[[2,11],[15,30]])})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{error:o,onClear:m}),i.a.createElement(j.a,{className:"authentication"},c&&i.a.createElement(g.a,{asOverlay:!0}),i.a.createElement("h2",null,"Login Required"),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:I},!n&&i.a.createElement(E.a,{element:"input",id:"name",type:"text",label:"Your Name",validators:[Object(R.c)()],errorText:"Please enter a name.",onInput:y}),!n&&i.a.createElement(L.a,{center:!0,id:"image",onInput:y,errorText:"Please provide an image."}),i.a.createElement(E.a,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[Object(R.a)()],errorText:"Please enter a valid email address.",onInput:y}),i.a.createElement(E.a,{element:"input",id:"password",type:"password",label:"Password",validators:[Object(R.b)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:y}),i.a.createElement(p.a,{type:"submit",disabled:!v.isValid},n?"LOGIN":"SIGNUP")),i.a.createElement(p.a,{inverse:!0,onClick:function(){n?k(Object(T.a)(Object(T.a)({},v.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):k(Object(T.a)(Object(T.a)({},v.inputs),{},{name:void 0,image:void 0}),v.inputs.email.isValid&&v.inputs.password.isValid),r((function(e){return!e}))}},"SWITCH TO ",n?"SIGNUP":"LOGIN"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(p.a,{onClick:function(e){return window.location.href="auth/google"}},"LOGIN OR SIGNUP VIA GOOGLE ")))}),P=a(29),D=a.n(P),M=function(){var e=Object(u.useContext)(V.a),t=Object(C.a)(),a=t.isLoading,n=t.error,r=t.sendRequest,l=t.clearError,c=function(){var t=Object(O.a)(h.a.mark((function t(a){var n,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("/api/current_user/",{crossdomain:!0});case 2:return n=t.sent,console.log(n.data),t.next=6,r("https://book-min.herokuapp.com/api/users/login","POST",JSON.stringify({email:n.data.email,password:n.data.gid}),{"Content-Type":"application/json"});case 6:return l=t.sent,console.log("GRES:"),console.log(l),e.username=n.data.name,console.log(e.username),e.login(l.userId,l.token,n.data.name,n.data.image),t.next=14,D.a.get("/api/logout/",{crossdomain:!0});case 14:t.sent;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{error:n,onClear:l}),i.a.createElement(j.a,{className:"authentication"},a&&i.a.createElement(g.a,{asOverlay:!0}),i.a.createElement("h2",null,"WELCOME TO BOOKMIN  "),i.a.createElement("h5",null,"BEGIN YOUR SUMMARY WRITING & EXPLORING JOURNEY"),i.a.createElement("hr",null),i.a.createElement(p.a,{onClick:c},"GET STARTED NOW")))},U=(a(90),function(e){return i.a.createElement("header",{className:"main-header"},e.children)}),B=(a(91),function(e){return i.a.createElement("li",{className:"usern-item"},i.a.createElement(j.a,{className:"usern-item__content"},i.a.createElement(d.b,{to:"/".concat(e.id,"/summaries")},i.a.createElement("div",{className:"usern-item__image"},i.a.createElement(y,{image:"https://book-min.herokuapp.com/"+"".concat(e.image),alt:e.name})),i.a.createElement("div",{className:"usern-item__info"},i.a.createElement("h2",null,e.name),i.a.createElement("h3",null,"undefined"==e.placeCount?"0":e.placeCount," ",1===e.placeCount?"Summary":"Summaries")))))}),F=(a(92),function(e){var t=Object(u.useContext)(V.a);return console.log(t.userId),console.log(t.username),console.log(t.token),console.log(t.nsum),i.a.createElement("ul",{className:"nav-links"},i.a.createElement("li",null,i.a.createElement(d.c,{to:"/summary",exact:!0},"EXPLORE SUMMARIES")),t.isLoggedIn&&i.a.createElement("li",null,i.a.createElement(d.c,{to:"/",exact:!0},"EXPLORE WRITERS")),t.isLoggedIn&&i.a.createElement("li",null,i.a.createElement(d.c,{to:"/".concat(t.userId,"/summaries")},"MY SUMMARY")),t.isLoggedIn&&i.a.createElement("li",null,i.a.createElement(d.c,{to:"/summary/new"},"ADD SUMMARY")),!t.isLoggedIn&&i.a.createElement("li",null,i.a.createElement(d.c,{to:"/auth"},"LOGIN")),t.isLoggedIn&&i.a.createElement("li",null,i.a.createElement("button",{onClick:t.logout},"LOGOUT")),t.isLoggedIn&&i.a.createElement("li",null,i.a.createElement(B,{key:t.userId,id:t.userId,image:t.pimg,name:t.username,placeCount:void 0!=t.nsum&&t.nsum})))}),H=a(96),z=(a(93),function(e){var t=i.a.createElement(H.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},i.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return s.a.createPortal(t,document.getElementById("drawer-hook"))}),J=a(24),Y=(a(94),function(e){var t=Object(u.useState)(!1),a=Object(N.a)(t,2),n=a[0],r=a[1],l=function(){r(!1)};return i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(J.a,{onClick:l}),i.a.createElement(z,{show:n,onClick:l},i.a.createElement("nav",{className:"main-navigation__drawer-nav"},i.a.createElement(F,null))),i.a.createElement(U,null,i.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){r(!0)}},i.a.createElement("span",null),i.a.createElement("span",null),i.a.createElement("span",null)),i.a.createElement("h1",{className:"main-navigation__title"},i.a.createElement("div",{className:"logos"},i.a.createElement("img",{src:"http://icons.iconarchive.com/icons/iconsmind/outline/256/Book-icon.png",border:"0",alt:"animated-nepal-flag-image-0001",height:"45px"})),i.a.createElement(d.b,{to:"/"},"Bookmin")),i.a.createElement("nav",{className:"main-navigation__header-nav"},i.a.createElement(F,null))))}),q=i.a.lazy((function(){return a.e(5).then(a.bind(null,102))})),W=i.a.lazy((function(){return a.e(4).then(a.bind(null,105))})),X=i.a.lazy((function(){return a.e(6).then(a.bind(null,103))})),K=i.a.lazy((function(){return a.e(3).then(a.bind(null,104))})),Q=function(){var e,t=function(){var e=Object(u.useContext)(V.a),t=Object(u.useState)(!1),a=Object(N.a)(t,2),i=a[0],o=a[1],s=Object(u.useState)(),m=Object(N.a)(s,2),d=m[0],E=m[1],p=Object(u.useState)(!1),f=Object(N.a)(p,2),g=f[0],b=f[1],v=Object(u.useCallback)((function(t,a,n,u,i,s){o(a),b(t),e.username=n,e.pimg=u,l=String(u),console.log("hahah"),console.log(n),console.log(e.username),r=String(n),c=String(i);var m=s||new Date((new Date).getTime()+36e5);E(m),localStorage.setItem("userData",JSON.stringify({userId:t,token:a,user:n,image:u,nsum:i,expiration:m.toISOString()}))}),[]),h=Object(u.useCallback)((function(){o(null),E(null),b(null),localStorage.removeItem("userData")}),[]);return Object(u.useEffect)((function(){if(i&&d){var e=d.getTime()-(new Date).getTime();n=setTimeout(h,e)}else clearTimeout(n)}),[i,h,r,l,c,d]),Object(u.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&v(e.userId,e.token,e.user,e.image,e.nsum,new Date(e.expiration))}),[v]),{token:i,login:v,logout:h,userId:g,uname:r,img:l,ns:c}}(),a=t.token,o=t.login,s=t.logout,E=t.userId,p=t.uname,f=t.img,v=t.ns;return e=a?i.a.createElement(m.d,null,i.a.createElement(m.b,{path:"/",exact:!0},i.a.createElement(_,null)),i.a.createElement(m.b,{path:"/summary",exact:!0},i.a.createElement(w,null)),i.a.createElement(m.b,{path:"/:userId/summaries",exact:!0},i.a.createElement(W,null)),i.a.createElement(m.b,{path:"/:summaryId/summary",exact:!0},i.a.createElement(K,null)),i.a.createElement(m.b,{path:"/summary/new",exact:!0},i.a.createElement(q,null)),i.a.createElement(m.b,{path:"/summary/:summaryId"},i.a.createElement(X,null)),i.a.createElement(m.a,{to:"/"})):i.a.createElement(m.d,null,i.a.createElement(m.b,{path:"/",exact:!0},i.a.createElement(b,null)),i.a.createElement(m.b,{path:"/summary",exact:!0},i.a.createElement(w,null)),i.a.createElement(m.b,{path:"/:summaryId/summary",exact:!0},i.a.createElement(K,null)),i.a.createElement(m.b,{path:"/auth"},i.a.createElement(A,null)),i.a.createElement(m.b,{path:"/gauth"},i.a.createElement(M,null)),i.a.createElement(m.a,{to:"/auth"})),i.a.createElement(V.a.Provider,{value:{isLoggedIn:!!a,token:a,userId:E,username:p,pimg:f,nsum:v,login:o,logout:s}},i.a.createElement(d.a,null,i.a.createElement(Y,null),i.a.createElement("main",null,i.a.createElement(u.Suspense,{fallback:i.a.createElement("div",{className:"center"},i.a.createElement(g.a,null))},e))))};s.a.render(i.a.createElement(Q,null),document.getElementById("root"))}],[[48,1,2]]]);
//# sourceMappingURL=main.e4dc4298.chunk.js.map